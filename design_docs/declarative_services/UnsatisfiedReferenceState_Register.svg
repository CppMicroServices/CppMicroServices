<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="689px" preserveAspectRatio="none" style="width:1326px;height:689px;" version="1.1" viewBox="0 0 1326 689" width="1326px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="184" x="571.75" y="23.5352">UnsatisfiedState::Register</text><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="133.5" y="229.707"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="133.5" y="312.6387"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="133.5" y="534.7676"/><rect fill="#FFFFFF" height="502.2344" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="433.5" y="112.4648"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="920.5" y="395.5703"/><rect fill="#FFFFFF" height="327.3711" style="stroke: #000000; stroke-width: 1.0;" width="1301.5" x="13" y="274.3281"/><rect fill="#FFFFFF" height="75.9316" style="stroke: #000000; stroke-width: 1.0;" width="696" x="312.5" y="357.2598"/><rect fill="#FFFFFF" height="102.8867" style="stroke: none; stroke-width: 1.0;" width="1301.5" x="13" y="498.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="138" x2="138" y1="81.4648" y2="632.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="438.5" x2="438.5" y1="81.4648" y2="632.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="619.5" x2="619.5" y1="81.4648" y2="632.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="763.5" x2="763.5" y1="81.4648" y2="632.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="925.5" x2="925.5" y1="81.4648" y2="632.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1156.5" x2="1156.5" y1="81.4648" y2="632.6992"/><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="43" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="50" y="70.5117">ComponentConfiguration</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="43" y="631.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="50" y="652.2344">ComponentConfiguration</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="342.5" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="178" x="349.5" y="70.5117">UnsatisfiedReferenceState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="342.5" y="631.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="178" x="349.5" y="652.2344">UnsatisfiedReferenceState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="584.5" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="591.5" y="70.5117">promise</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="584.5" y="631.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="591.5" y="652.2344">promise</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="704.5" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="711.5" y="70.5117">TransitionState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="704.5" y="631.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="711.5" y="652.2344">TransitionState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="872.5" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="879.5" y="70.5117">SatisfiedState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="872.5" y="631.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="879.5" y="652.2344">SatisfiedState</text><rect fill="#FEFECE" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="256" x="1028.5" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="242" x="1035.5" y="54.0234">ComponentConfigurationBaseState</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1124" y="70.5117">{abstract}</text><rect fill="#FEFECE" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="256" x="1028.5" y="631.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="242" x="1035.5" y="652.2344">ComponentConfigurationBaseState</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1124" y="668.7227">{abstract}</text><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="133.5" y="229.707"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="133.5" y="312.6387"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="133.5" y="534.7676"/><rect fill="#FFFFFF" height="502.2344" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="433.5" y="112.4648"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="920.5" y="395.5703"/><polygon fill="#A80036" points="421.5,108.4648,431.5,112.4648,421.5,116.4648,425.5,112.4648" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="138.5" x2="427.5" y1="112.4648" y2="112.4648"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="145.5" y="108.0332">Register</text><polygon fill="#A80036" points="607.5,137.7754,617.5,141.7754,607.5,145.7754,611.5,141.7754" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="613.5" y1="141.7754" y2="141.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="450.5" y="137.3438">create</text><polygon fill="#A80036" points="607.5,167.0859,617.5,171.0859,607.5,175.0859,611.5,171.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="613.5" y1="171.0859" y2="171.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="450.5" y="166.6543">get_future</text><polygon fill="#A80036" points="751.5,196.3965,761.5,200.3965,751.5,204.3965,755.5,200.3965" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="757.5" y1="200.3965" y2="200.3965"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="450.5" y="195.9648">Create(future)</text><polygon fill="#A80036" points="154.5,225.707,144.5,229.707,154.5,233.707,150.5,229.707" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="148.5" x2="432.5" y1="229.707" y2="229.707"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="160.5" y="225.2754">CompareAndSwap(this, transitionObj)</text><polygon fill="#A80036" points="421.5,255.0176,431.5,259.0176,421.5,263.0176,425.5,259.0176" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="138.5" x2="427.5" y1="259.0176" y2="259.0176"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="145.5" y="254.5859">true/false</text><rect fill="none" height="327.3711" style="stroke: #000000; stroke-width: 1.0;" width="1301.5" x="13" y="274.3281"/><polygon fill="#EEEEEE" points="13,274.3281,80,274.3281,80,281.3281,70,291.3281,13,291.3281,13,274.3281" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="28" y="287.8965">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="95" y="286.9629">[success]</text><polygon fill="#A80036" points="154.5,308.6387,144.5,312.6387,154.5,316.6387,150.5,312.6387" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="148.5" x2="432.5" y1="312.6387" y2="312.6387"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="160.5" y="308.207">RegisterService</text><polygon fill="#A80036" points="421.5,337.9492,431.5,341.9492,421.5,345.9492,425.5,341.9492" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="138.5" x2="427.5" y1="341.9492" y2="341.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="145.5" y="337.5176">true/false</text><rect fill="none" height="75.9316" style="stroke: #000000; stroke-width: 1.0;" width="696" x="312.5" y="357.2598"/><polygon fill="#EEEEEE" points="312.5,357.2598,379.5,357.2598,379.5,364.2598,369.5,374.2598,312.5,374.2598,312.5,357.2598" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="327.5" y="370.8281">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="128" x="394.5" y="369.8945">[registration suceeded]</text><polygon fill="#A80036" points="908.5,391.5703,918.5,395.5703,908.5,399.5703,912.5,395.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="914.5" y1="395.5703" y2="395.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="450.5" y="391.1387">Create</text><polygon fill="#A80036" points="454.5,420.8809,444.5,424.8809,454.5,428.8809,450.5,424.8809" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="448.5" x2="924.5" y1="424.8809" y2="424.8809"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="460.5" y="420.4492">nextState</text><polygon fill="#A80036" points="149.5,457.1914,139.5,461.1914,149.5,465.1914,145.5,461.1914" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="143.5" x2="432.5" y1="461.1914" y2="461.1914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="155.5" y="456.7598">CompareAndSwap(transitionObj, nextState)</text><polygon fill="#A80036" points="607.5,486.502,617.5,490.502,607.5,494.502,611.5,490.502" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="613.5" y1="490.502" y2="490.502"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="450.5" y="486.0703">set_value</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1314.5" y1="499.8125" y2="499.8125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="267" x="18" y="510.4473">[someother thread succeeded in changing state]</text><polygon fill="#A80036" points="154.5,530.7676,144.5,534.7676,154.5,538.7676,150.5,534.7676" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="148.5" x2="432.5" y1="534.7676" y2="534.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="160.5" y="530.3359">GetState</text><polygon fill="#A80036" points="421.5,560.0781,431.5,564.0781,421.5,568.0781,425.5,564.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="138.5" x2="427.5" y1="564.0781" y2="564.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="145.5" y="559.6465">current state</text><polygon fill="#A80036" points="1144.5,589.3887,1154.5,593.3887,1144.5,597.3887,1148.5,593.3887" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="1150.5" y1="593.3887" y2="593.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="450.5" y="588.957">Deactivate</text><polygon fill="#A80036" points="149.5,610.6992,139.5,614.6992,149.5,618.6992,145.5,614.6992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="143.5" x2="437.5" y1="614.6992" y2="614.6992"/><!--
@startuml
title UnsatisfiedState::Register
skinparam ParticipantPadding 20
skinparam BoxPadding 10
skinparam shadowing false
skinparam sequenceGroupBorderThickness 1
participant ComponentConfiguration
participant UnsatisfiedReferenceState
participant promise
participant TransitionState
participant SatisfiedState
participant "ComponentConfigurationBaseState\n{abstract}" as ComponentConfigurationState
ComponentConfiguration->UnsatisfiedReferenceState: Register
activate UnsatisfiedReferenceState
UnsatisfiedReferenceState->promise: create
UnsatisfiedReferenceState->promise: get_future
UnsatisfiedReferenceState->TransitionState: Create(future)
UnsatisfiedReferenceState->ComponentConfiguration: CompareAndSwap(this, transitionObj)
activate ComponentConfiguration
ComponentConfiguration- ->UnsatisfiedReferenceState: true/false
deactivate ComponentConfiguration
opt success
UnsatisfiedReferenceState->ComponentConfiguration: RegisterService
activate ComponentConfiguration
ComponentConfiguration- ->UnsatisfiedReferenceState: true/false
deactivate ComponentConfiguration
opt registration suceeded
UnsatisfiedReferenceState->SatisfiedState: Create
activate SatisfiedState
SatisfiedState->UnsatisfiedReferenceState: nextState
deactivate SatisfiedState
end
UnsatisfiedReferenceState->ComponentConfiguration: CompareAndSwap(transitionObj, nextState)
UnsatisfiedReferenceState->promise: set_value
else someother thread succeeded in changing state
UnsatisfiedReferenceState->ComponentConfiguration: GetState
activate ComponentConfiguration
ComponentConfiguration- ->UnsatisfiedReferenceState: current state
deactivate ComponentConfiguration
UnsatisfiedReferenceState->ComponentConfigurationState: Deactivate
end
UnsatisfiedReferenceState- ->ComponentConfiguration:
deactivate UnsatisfiedReferenceState
@enduml

PlantUML version 1.2017.20(Mon Dec 11 11:57:05 EST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>