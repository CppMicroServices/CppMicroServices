<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="692px" preserveAspectRatio="none" style="width:1369px;height:692px;" version="1.1" viewBox="0 0 1369 692" width="1369px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180" x="595.25" y="23.5352">SatisfiedState::Deactivate</text><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="133.5" y="229.707"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="133.5" y="537.7676"/><rect fill="#FFFFFF" height="505.2344" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="433.5" y="112.4648"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="920.5" y="405.5703"/><rect fill="#FFFFFF" height="330.3711" style="stroke: #000000; stroke-width: 1.0;" width="1344.5" x="13" y="274.3281"/><rect fill="#FFFFFF" height="102.8867" style="stroke: none; stroke-width: 1.0;" width="1344.5" x="13" y="501.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="138" x2="138" y1="81.4648" y2="635.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="438.5" x2="438.5" y1="81.4648" y2="635.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="576.5" x2="576.5" y1="81.4648" y2="635.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="720.5" x2="720.5" y1="81.4648" y2="635.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="925.5" x2="925.5" y1="81.4648" y2="635.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1199.5" x2="1199.5" y1="81.4648" y2="635.6992"/><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="43" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="50" y="70.5117">ComponentConfiguration</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="43" y="634.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="50" y="655.2344">ComponentConfiguration</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="385.5" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="392.5" y="70.5117">SatisfiedState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="385.5" y="634.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="392.5" y="655.2344">SatisfiedState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="541.5" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="548.5" y="70.5117">promise</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="541.5" y="634.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="548.5" y="655.2344">promise</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="661.5" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="668.5" y="70.5117">TransitionState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="661.5" y="634.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="668.5" y="655.2344">TransitionState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="829.5" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="178" x="836.5" y="70.5117">UnsatisfiedReferenceState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="829.5" y="634.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="178" x="836.5" y="655.2344">UnsatisfiedReferenceState</text><rect fill="#FEFECE" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="256" x="1071.5" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="242" x="1078.5" y="54.0234">ComponentConfigurationBaseState</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1167" y="70.5117">{abstract}</text><rect fill="#FEFECE" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="256" x="1071.5" y="634.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="242" x="1078.5" y="655.2344">ComponentConfigurationBaseState</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1167" y="671.7227">{abstract}</text><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="133.5" y="229.707"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="133.5" y="537.7676"/><rect fill="#FFFFFF" height="505.2344" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="433.5" y="112.4648"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="920.5" y="405.5703"/><polygon fill="#A80036" points="421.5,108.4648,431.5,112.4648,421.5,116.4648,425.5,112.4648" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="138.5" x2="427.5" y1="112.4648" y2="112.4648"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="145.5" y="108.0332">Deactivate</text><polygon fill="#A80036" points="564.5,137.7754,574.5,141.7754,564.5,145.7754,568.5,141.7754" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="570.5" y1="141.7754" y2="141.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="450.5" y="137.3438">create</text><polygon fill="#A80036" points="564.5,167.0859,574.5,171.0859,564.5,175.0859,568.5,171.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="570.5" y1="171.0859" y2="171.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="450.5" y="166.6543">get_future</text><polygon fill="#A80036" points="708.5,196.3965,718.5,200.3965,708.5,204.3965,712.5,200.3965" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="714.5" y1="200.3965" y2="200.3965"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="450.5" y="195.9648">Create(future)</text><polygon fill="#A80036" points="154.5,225.707,144.5,229.707,154.5,233.707,150.5,229.707" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="148.5" x2="432.5" y1="229.707" y2="229.707"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="160.5" y="225.2754">CompareAndSwap(this, transitionObj)</text><polygon fill="#A80036" points="421.5,255.0176,431.5,259.0176,421.5,263.0176,425.5,259.0176" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="138.5" x2="427.5" y1="259.0176" y2="259.0176"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="145.5" y="254.5859">true/false</text><rect fill="none" height="330.3711" style="stroke: #000000; stroke-width: 1.0;" width="1344.5" x="13" y="274.3281"/><polygon fill="#EEEEEE" points="13,274.3281,75,274.3281,75,281.3281,65,291.3281,13,291.3281,13,274.3281" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="28" y="287.8965">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="90" y="286.9629">[success]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="485.5" y1="312.9492" y2="312.9492"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="485.5" x2="485.5" y1="312.9492" y2="325.9492"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444.5" x2="485.5" y1="325.9492" y2="325.9492"/><polygon fill="#A80036" points="454.5,321.9492,444.5,325.9492,454.5,329.9492,450.5,325.9492" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="450.5" y="308.207">DoDeactivate</text><polygon fill="#FBFB77" points="448,338.9492,448,378.9492,658,378.9492,658,348.9492,648,338.9492,448,338.9492" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="648" x2="648" y1="338.9492" y2="348.9492"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="658" x2="648" y1="348.9492" y2="348.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="454" y="356.5176">see the sequence diagram for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="454" y="371.8281">SatisfiedState::DoDeactivate</text><polygon fill="#A80036" points="908.5,401.5703,918.5,405.5703,908.5,409.5703,912.5,405.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="914.5" y1="405.5703" y2="405.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="450.5" y="401.1387">Create</text><polygon fill="#A80036" points="454.5,430.8809,444.5,434.8809,454.5,438.8809,450.5,434.8809" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="448.5" x2="924.5" y1="434.8809" y2="434.8809"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="460.5" y="430.4492">nextState</text><polygon fill="#A80036" points="149.5,460.1914,139.5,464.1914,149.5,468.1914,145.5,464.1914" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="143.5" x2="432.5" y1="464.1914" y2="464.1914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="155.5" y="459.7598">CompareAndSwap(transitionObj, nextState)</text><polygon fill="#A80036" points="564.5,489.502,574.5,493.502,564.5,497.502,568.5,493.502" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="570.5" y1="493.502" y2="493.502"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="450.5" y="489.0703">set_value</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1357.5" y1="502.8125" y2="502.8125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="267" x="18" y="513.4473">[someother thread succeeded in changing state]</text><polygon fill="#A80036" points="154.5,533.7676,144.5,537.7676,154.5,541.7676,150.5,537.7676" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="148.5" x2="432.5" y1="537.7676" y2="537.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="160.5" y="533.3359">GetState</text><polygon fill="#A80036" points="421.5,563.0781,431.5,567.0781,421.5,571.0781,425.5,567.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="138.5" x2="427.5" y1="567.0781" y2="567.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="145.5" y="562.6465">current state</text><polygon fill="#A80036" points="1187.5,592.3887,1197.5,596.3887,1187.5,600.3887,1191.5,596.3887" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="1193.5" y1="596.3887" y2="596.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="450.5" y="591.957">Deactivate</text><polygon fill="#A80036" points="149.5,613.6992,139.5,617.6992,149.5,621.6992,145.5,617.6992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="143.5" x2="437.5" y1="617.6992" y2="617.6992"/><!--
@startuml
title SatisfiedState::Deactivate
skinparam ParticipantPadding 20
skinparam BoxPadding 10
skinparam shadowing false
skinparam sequenceGroupBorderThickness 1
participant ComponentConfiguration
participant SatisfiedState
participant promise
participant TransitionState
participant UnsatisfiedReferenceState
participant "ComponentConfigurationBaseState\n{abstract}" as ComponentConfigurationState
ComponentConfiguration->SatisfiedState: Deactivate
activate SatisfiedState
SatisfiedState->promise: create
SatisfiedState->promise: get_future
SatisfiedState->TransitionState: Create(future)
SatisfiedState->ComponentConfiguration: CompareAndSwap(this, transitionObj)
activate ComponentConfiguration
ComponentConfiguration- ->SatisfiedState: true/false
deactivate ComponentConfiguration
alt success
SatisfiedState->SatisfiedState: DoDeactivate
note right of SatisfiedState 
          see the sequence diagram for 
          SatisfiedState::DoDeactivate
end note
SatisfiedState->UnsatisfiedReferenceState: Create
activate UnsatisfiedReferenceState
UnsatisfiedReferenceState->SatisfiedState: nextState
deactivate UnsatisfiedReferenceState
SatisfiedState->ComponentConfiguration: CompareAndSwap(transitionObj, nextState)
SatisfiedState->promise: set_value
else someother thread succeeded in changing state
SatisfiedState->ComponentConfiguration: GetState
activate ComponentConfiguration
ComponentConfiguration- ->SatisfiedState: current state
deactivate ComponentConfiguration
SatisfiedState->ComponentConfigurationState: Deactivate
end
SatisfiedState- ->ComponentConfiguration:
deactivate SatisfiedState
@enduml

PlantUML version 1.2017.20(Mon Dec 11 11:57:05 EST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>