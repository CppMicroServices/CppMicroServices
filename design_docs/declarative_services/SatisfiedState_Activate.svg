<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="996px" preserveAspectRatio="none" style="width:1518px;height:996px;" version="1.1" viewBox="0 0 1518 996" width="1518px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="163" x="678.25" y="23.5352">SatisfiedState::Activate</text><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="143.5" y="229.707"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="143.5" y="841.873"/><rect fill="#FFFFFF" height="809.3398" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="443.5" y="112.4648"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725.5" y="405.5703"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="879" y="488.502"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069.5" y="642.0547"/><rect fill="#FFFFFF" height="634.4766" style="stroke: #000000; stroke-width: 1.0;" width="1493.5" x="13" y="274.3281"/><rect fill="#FFFFFF" height="229.4844" style="stroke: #000000; stroke-width: 1.0;" width="835" x="365.5" y="450.1914"/><rect fill="#FFFFFF" height="153.5527" style="stroke: none; stroke-width: 1.0;" width="835" x="365.5" y="526.123"/><rect fill="#FFFFFF" height="46.6211" style="stroke: #000000; stroke-width: 1.0;" width="508.5" x="23" y="752.2969"/><rect fill="#FFFFFF" height="102.8867" style="stroke: none; stroke-width: 1.0;" width="1493.5" x="13" y="805.918"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="148" x2="148" y1="81.4648" y2="939.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="448.5" x2="448.5" y1="81.4648" y2="939.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="586.5" x2="586.5" y1="81.4648" y2="939.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="730.5" x2="730.5" y1="81.4648" y2="939.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="883.5" x2="883.5" y1="81.4648" y2="939.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1074.5" x2="1074.5" y1="81.4648" y2="939.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1348.5" x2="1348.5" y1="81.4648" y2="939.8047"/><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="53" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="60" y="70.5117">ComponentConfiguration</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="53" y="938.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="60" y="959.3398">ComponentConfiguration</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="395.5" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="402.5" y="70.5117">SatisfiedState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="395.5" y="938.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="402.5" y="959.3398">SatisfiedState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="551.5" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="558.5" y="70.5117">promise</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="551.5" y="938.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="558.5" y="959.3398">promise</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="671.5" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="678.5" y="70.5117">TransitionState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="671.5" y="938.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="678.5" y="959.3398">TransitionState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="839.5" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="846.5" y="70.5117">ActiveState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="839.5" y="938.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="846.5" y="959.3398">ActiveState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="978.5" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="178" x="985.5" y="70.5117">UnsatisfiedReferenceState</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="978.5" y="938.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="178" x="985.5" y="959.3398">UnsatisfiedReferenceState</text><rect fill="#FEFECE" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="256" x="1220.5" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="242" x="1227.5" y="54.0234">ComponentConfigurationBaseState</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1316" y="70.5117">{abstract}</text><rect fill="#FEFECE" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="256" x="1220.5" y="938.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="242" x="1227.5" y="959.3398">ComponentConfigurationBaseState</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1316" y="975.8281">{abstract}</text><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="143.5" y="229.707"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="143.5" y="841.873"/><rect fill="#FFFFFF" height="809.3398" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="443.5" y="112.4648"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725.5" y="405.5703"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="879" y="488.502"/><rect fill="#FFFFFF" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069.5" y="642.0547"/><polygon fill="#A80036" points="431.5,108.4648,441.5,112.4648,431.5,116.4648,435.5,112.4648" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="148.5" x2="437.5" y1="112.4648" y2="112.4648"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="155.5" y="108.0332">Activate</text><polygon fill="#A80036" points="574.5,137.7754,584.5,141.7754,574.5,145.7754,578.5,141.7754" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="453.5" x2="580.5" y1="141.7754" y2="141.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="460.5" y="137.3438">create</text><polygon fill="#A80036" points="574.5,167.0859,584.5,171.0859,574.5,175.0859,578.5,171.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="453.5" x2="580.5" y1="171.0859" y2="171.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="460.5" y="166.6543">get_future</text><polygon fill="#A80036" points="718.5,196.3965,728.5,200.3965,718.5,204.3965,722.5,200.3965" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="453.5" x2="724.5" y1="200.3965" y2="200.3965"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="460.5" y="195.9648">Create(future)</text><polygon fill="#A80036" points="164.5,225.707,154.5,229.707,164.5,233.707,160.5,229.707" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="158.5" x2="442.5" y1="229.707" y2="229.707"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="170.5" y="225.2754">CompareAndSwap(this, transitionObj)</text><polygon fill="#A80036" points="431.5,255.0176,441.5,259.0176,431.5,263.0176,435.5,259.0176" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="148.5" x2="437.5" y1="259.0176" y2="259.0176"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="155.5" y="254.5859">true/false</text><rect fill="none" height="634.4766" style="stroke: #000000; stroke-width: 1.0;" width="1493.5" x="13" y="274.3281"/><polygon fill="#EEEEEE" points="13,274.3281,75,274.3281,75,281.3281,65,291.3281,13,291.3281,13,274.3281" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="28" y="287.8965">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="90" y="286.9629">[success]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="453.5" x2="495.5" y1="312.9492" y2="312.9492"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="495.5" x2="495.5" y1="312.9492" y2="325.9492"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="454.5" x2="495.5" y1="325.9492" y2="325.9492"/><polygon fill="#A80036" points="464.5,321.9492,454.5,325.9492,464.5,329.9492,460.5,325.9492" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="460.5" y="308.207">DoActivate</text><polygon fill="#FBFB77" points="458,338.9492,458,378.9492,668,378.9492,668,348.9492,658,338.9492,458,338.9492" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="658" x2="658" y1="338.9492" y2="348.9492"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="668" x2="658" y1="348.9492" y2="348.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="464" y="356.5176">see the sequence diagram for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="464" y="371.8281">SatisfiedState::DoActivate</text><polygon fill="#A80036" points="713.5,401.5703,723.5,405.5703,713.5,409.5703,717.5,405.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="453.5" x2="719.5" y1="405.5703" y2="405.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="460.5" y="401.1387">CheckIfRecursionDetected</text><polygon fill="#A80036" points="464.5,430.8809,454.5,434.8809,464.5,438.8809,460.5,434.8809" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="458.5" x2="729.5" y1="434.8809" y2="434.8809"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="470.5" y="430.4492">true/false</text><rect fill="none" height="229.4844" style="stroke: #000000; stroke-width: 1.0;" width="835" x="365.5" y="450.1914"/><polygon fill="#EEEEEE" points="365.5,450.1914,427.5,450.1914,427.5,457.1914,417.5,467.1914,365.5,467.1914,365.5,450.1914" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="380.5" y="463.7598">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="260" x="442.5" y="462.8262">[DoActivate suceeded and no recursion found]</text><polygon fill="#A80036" points="867,484.502,877,488.502,867,492.502,871,488.502" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="453.5" x2="873" y1="488.502" y2="488.502"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="460.5" y="484.0703">Create</text><polygon fill="#A80036" points="464.5,513.8125,454.5,517.8125,464.5,521.8125,460.5,517.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="458.5" x2="883" y1="517.8125" y2="517.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="470.5" y="513.3809">nextState</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="365.5" x2="1200.5" y1="527.123" y2="527.123"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="453.5" x2="495.5" y1="549.4336" y2="549.4336"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="495.5" x2="495.5" y1="549.4336" y2="562.4336"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="454.5" x2="495.5" y1="562.4336" y2="562.4336"/><polygon fill="#A80036" points="464.5,558.4336,454.5,562.4336,464.5,566.4336,460.5,562.4336" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="460.5" y="544.6914">DoDeactivate</text><polygon fill="#FBFB77" points="458,575.4336,458,615.4336,668,615.4336,668,585.4336,658,575.4336,458,575.4336" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="658" x2="658" y1="575.4336" y2="585.4336"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="668" x2="658" y1="585.4336" y2="585.4336"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="464" y="593.002">see the sequence diagram for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="464" y="608.3125">SatisfiedState::DoDeactivate</text><polygon fill="#A80036" points="1057.5,638.0547,1067.5,642.0547,1057.5,646.0547,1061.5,642.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="453.5" x2="1063.5" y1="642.0547" y2="642.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="460.5" y="637.623">Create</text><polygon fill="#A80036" points="464.5,667.3652,454.5,671.3652,464.5,675.3652,460.5,671.3652" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="458.5" x2="1073.5" y1="671.3652" y2="671.3652"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="470.5" y="666.9336">nextState</text><polygon fill="#A80036" points="159.5,703.6758,149.5,707.6758,159.5,711.6758,155.5,707.6758" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="153.5" x2="442.5" y1="707.6758" y2="707.6758"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="165.5" y="703.2441">CompareAndSwap(transitionObj, nextState)</text><polygon fill="#A80036" points="574.5,732.9863,584.5,736.9863,574.5,740.9863,578.5,736.9863" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="453.5" x2="580.5" y1="736.9863" y2="736.9863"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="460.5" y="732.5547">set_value</text><rect fill="none" height="46.6211" style="stroke: #000000; stroke-width: 1.0;" width="508.5" x="23" y="752.2969"/><polygon fill="#EEEEEE" points="23,752.2969,85,752.2969,85,759.2969,75,769.2969,23,769.2969,23,752.2969" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="765.8652">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="100" y="764.9316">[if DoActivate failed]</text><polygon fill="#A80036" points="159.5,786.6074,149.5,790.6074,159.5,794.6074,155.5,790.6074" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="153.5" x2="442.5" y1="790.6074" y2="790.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="165.5" y="786.1758">throw exception</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1506.5" y1="806.918" y2="806.918"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="267" x="18" y="817.5527">[someother thread succeeded in changing state]</text><polygon fill="#A80036" points="164.5,837.873,154.5,841.873,164.5,845.873,160.5,841.873" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="158.5" x2="442.5" y1="841.873" y2="841.873"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="170.5" y="837.4414">GetState</text><polygon fill="#A80036" points="431.5,867.1836,441.5,871.1836,431.5,875.1836,435.5,871.1836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="148.5" x2="437.5" y1="871.1836" y2="871.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="155.5" y="866.752">current state</text><polygon fill="#A80036" points="1336.5,896.4941,1346.5,900.4941,1336.5,904.4941,1340.5,900.4941" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="453.5" x2="1342.5" y1="900.4941" y2="900.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="460.5" y="896.0625">Activate</text><polygon fill="#A80036" points="159.5,917.8047,149.5,921.8047,159.5,925.8047,155.5,921.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="153.5" x2="447.5" y1="921.8047" y2="921.8047"/><!--
@startuml
title SatisfiedState::Activate
skinparam ParticipantPadding 20
skinparam BoxPadding 10
skinparam shadowing false
skinparam sequenceGroupBorderThickness 1
participant ComponentConfiguration
participant SatisfiedState
participant promise
participant TransitionState
participant ActiveState
participant UnsatisfiedReferenceState
participant "ComponentConfigurationBaseState\n{abstract}" as ComponentConfigurationState
ComponentConfiguration->SatisfiedState: Activate
activate SatisfiedState
SatisfiedState->promise: create
SatisfiedState->promise: get_future
SatisfiedState->TransitionState: Create(future)
SatisfiedState->ComponentConfiguration: CompareAndSwap(this, transitionObj)
activate ComponentConfiguration
ComponentConfiguration- ->SatisfiedState: true/false
deactivate ComponentConfiguration
alt success
SatisfiedState->SatisfiedState: DoActivate
note right of SatisfiedState 
          see the sequence diagram for 
          SatisfiedState::DoActivate
end note
SatisfiedState->TransitionState: CheckIfRecursionDetected
activate TransitionState
TransitionState- ->SatisfiedState: true/false
deactivate TransitionState
alt DoActivate suceeded and no recursion found
SatisfiedState->ActiveState: Create
activate ActiveState
ActiveState->SatisfiedState: nextState
deactivate ActiveState
else
SatisfiedState->SatisfiedState: DoDeactivate
note right of SatisfiedState 
          see the sequence diagram for 
          SatisfiedState::DoDeactivate
end note
SatisfiedState->UnsatisfiedReferenceState: Create
activate UnsatisfiedReferenceState
UnsatisfiedReferenceState->SatisfiedState: nextState
deactivate UnsatisfiedReferenceState
end
SatisfiedState->ComponentConfiguration: CompareAndSwap(transitionObj, nextState)
SatisfiedState->promise: set_value
alt if DoActivate failed
SatisfiedState- ->ComponentConfiguration: throw exception
end
else someother thread succeeded in changing state
SatisfiedState->ComponentConfiguration: GetState
activate ComponentConfiguration
ComponentConfiguration- ->SatisfiedState: current state
deactivate ComponentConfiguration
SatisfiedState->ComponentConfigurationState: Activate
end
SatisfiedState- ->ComponentConfiguration:
deactivate SatisfiedState
@enduml

PlantUML version 1.2017.20(Mon Dec 11 11:57:05 EST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>